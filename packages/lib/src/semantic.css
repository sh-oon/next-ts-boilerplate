/* ── Semantic Tokens (Light) ── */
:root {
  --background: var(--color-gray-50);
  --foreground: var(--color-gray-950);
  --primary: var(--color-gray-950);
  --primary-foreground: #fff;
  --primary-hover: var(--color-gray-800);
  --primary-pressed: var(--color-gray-700);
  --primary-disabled: var(--color-gray-300);
  --muted: var(--color-gray-100);
  --muted-foreground: var(--color-gray-500);
  --border: var(--color-gray-200);
  --ring: var(--color-gray-950);

  /* Button — override these per theme */
  --button-primary: var(--primary);
  --button-primary-foreground: var(--primary-foreground);
  --button-primary-hover: var(--primary-hover);
  --button-primary-pressed: var(--primary-pressed);
  --button-primary-disabled: var(--primary-disabled);

  /* Form controls (checkbox, radio, switch) */
  --control-checked: var(--primary);

  /* Input */
  --input-bg: var(--color-gray-100);
  --input-bg-hover: var(--color-gray-200);
  --input-bg-focus: #fff;
  --input-border-focus: var(--primary);
}

/* ── Dark Mode: class-based (.dark) ── */
.dark {
  --background: var(--color-gray-950);
  --foreground: var(--color-gray-50);
  --primary: var(--color-gray-50);
  --primary-foreground: var(--color-gray-950);
  --primary-hover: var(--color-gray-200);
  --primary-pressed: var(--color-gray-300);
  --primary-disabled: var(--color-gray-700);
  --muted: var(--color-gray-900);
  --muted-foreground: var(--color-gray-400);
  --border: var(--color-gray-800);
  --ring: var(--color-gray-50);

  /* Input */
  --input-bg: var(--color-gray-900);
  --input-bg-hover: var(--color-gray-800);
  --input-bg-focus: var(--color-gray-950);
}

/* ── Dark Mode: system preference (auto, unless .light is forced) ── */
@media (prefers-color-scheme: dark) {
  :root:not(.light) {
    --background: var(--color-gray-950);
    --foreground: var(--color-gray-50);
    --primary: var(--color-gray-50);
    --primary-foreground: var(--color-gray-950);
    --primary-hover: var(--color-gray-200);
    --primary-pressed: var(--color-gray-300);
    --primary-disabled: var(--color-gray-700);
    --muted: var(--color-gray-900);
    --muted-foreground: var(--color-gray-400);
    --border: var(--color-gray-800);
    --ring: var(--color-gray-50);

    /* Input */
    --input-bg: var(--color-gray-900);
    --input-bg-hover: var(--color-gray-800);
    --input-bg-focus: var(--color-gray-950);
  }
}

/* ── Register as Tailwind utilities ── */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary-hover: var(--primary-hover);
  --color-primary-pressed: var(--primary-pressed);
  --color-primary-disabled: var(--primary-disabled);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-border: var(--border);
  --color-ring: var(--ring);
  --color-button-primary: var(--button-primary);
  --color-button-primary-foreground: var(--button-primary-foreground);
  --color-button-primary-hover: var(--button-primary-hover);
  --color-button-primary-pressed: var(--button-primary-pressed);
  --color-button-primary-disabled: var(--button-primary-disabled);
  --color-control-checked: var(--control-checked);
  --color-input-bg: var(--input-bg);
  --color-input-bg-hover: var(--input-bg-hover);
  --color-input-bg-focus: var(--input-bg-focus);
  --color-input-border-focus: var(--input-border-focus);
}
